{"version":3,"sources":["components/element.js","components/mazerow.js","App.js","serviceWorker.js","index.js","arrows.png"],"names":["Element","_this$props$element","this","props","element","walls","isPony","isDomokun","isExit","isExitPath","elementStyle","elementClass","wall","push","h","height","react_default","a","createElement","className","join","style","Component","MazeRow","map","d","components_element","key","KEYMPAP","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","DIRECTIONS","API","root","create","maze","OPPOSITE","south","north","east","west","App","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","createMaze","event","_this$state","state","newWidth","newHeight","fetch","method","headers","Content-Type","body","JSON","stringify","maze-width","Number","maze-height","maze-player-name","difficulty","then","response","json","setState","mazeId","maze_id","backgroundUrl","active","auto","refreshMaze","console","log","catch","err","data","width","size","pony","domokun","exit","findPath","_this$state2","createPath","undefined","autoPlay","movePony","direction","arguments","length","_this$state3","directions","isDomokunAhead","available","getAvailableDirections","filter","includes","moveKey","start","move","path","_this$state4","availableDirections","i","exitPath","newPosition","getNextPosition","newPath","newDirections","apply","toConsumableArray","Set","coords","coordinates","delete","isSouthWall","IsEastWall","Array","from","_this$state5","coordinatesToIndex","_this$state6","index","Math","floor","coord","_this$state7","distance","indexOf","indexes","onLevelChange","target","value","onIdChange","onDimChange","id","document","addEventListener","rows","j","row","htmlFor","type","name","min","max","defaultValue","onChange","step","onClick","src","arrow","alt","backgroundImage","concat","backgroundRepeat","backgroundSize","mazerow","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.1540f7b4.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\n\r\n\r\n\r\nclass Element extends Component {\r\n\r\n    render() {\r\n\r\n        const {walls, isPony, isDomokun, isExit, isExitPath} = this.props.element;\r\n        const elementStyle = {};\r\n\r\n        const elementClass = [\"element\"];\r\n\r\n        for (let wall in walls){\r\n            elementClass.push(walls[wall]);\r\n        }\r\n        if (isPony) {\r\n            elementClass.push(\"pony\");\r\n        }\r\n        if(isDomokun){\r\n            elementClass.push(\"domokun\");\r\n        }\r\n        if(isExitPath){\r\n            elementClass.push(\"exitPath\");\r\n        }\r\n        if(isExit){\r\n            elementClass.push(\"exit\");\r\n        }\r\n        \r\n         \r\n     const h =  70 / this.props.element.height\r\n      elementStyle[\"height\"] = h + \"vmin\"\r\n      elementStyle[\"width\"] = h + \"vmin\"\r\n\r\n    return (\r\n\r\n      <div className = {\"b--blue \" + elementClass.join(\" \")} style={elementStyle}>\r\n{/*         {isExitPath ? \".\" : \"\"\r\n        }  */}\r\n       </div>\r\n      \r\n    );\r\n  }\r\n}\r\n\r\nexport default Element;\r\n","import React, { Component } from 'react';\r\nimport Element from './element'\r\n\r\nclass MazeRow extends Component {\r\n  render() {\r\n\r\n  \r\n    return (\r\n      <div className = \"row\">\r\n      {this.props.walls.map(d => <Element  key={d.key} element={d}/>)}\r\n      </div>\r\n     \r\n      \r\n    );\r\n  }\r\n}\r\n\r\nexport default MazeRow;\r\n","import React, { Component } from 'react';\n\nimport './App.css';\nimport MazeRow from './components/mazerow';\nimport arrow from './arrows.png';\n\nconst KEYMPAP = {\n  \"ArrowUp\": \"north\",\n  \"ArrowDown\": \"south\",\n  \"ArrowLeft\": \"west\",\n  \"ArrowRight\": \"east\",\n}\n\nconst DIRECTIONS = [\"north\", \"south\", \"west\", \"east\"];\n\nconst API = {\n  \"root\": \"https://ponychallenge.trustpilot.com\",\n  \"create\": \"https://ponychallenge.trustpilot.com/pony-challenge/maze\",\n  \"maze\": \"https://ponychallenge.trustpilot.com/pony-challenge/maze/\"\n}\n\nconst OPPOSITE = {\n  \"south\": \"north\",\n  \"north\": \"south\",\n  \"east\": \"west\",\n  \"west\": \"east\",\n}\n\n\nclass App extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      mazeId: '',\n      width: 0,\n      height: 0,\n      walls: [],\n      pony: 0,\n      domokun: 0,\n      exit: 0,\n      exitPath: [],\n      directions: [],\n      backgroundUrl: '',\n      active: true,\n      newWidth: 15,\n      newHeight: 15,\n      auto: false,\n      difficulty: 5\n    }\n  }\n\n\n  componentWillMount() {\n    document.addEventListener(\"keyup\", this.moveKey);\n  }\n\n\n  createMaze = (event) => {\n    let { newWidth, newHeight } = this.state;\n\n\n    fetch(API.create, {\n      method: 'post',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        \"maze-width\": Number(newWidth),\n        \"maze-height\": Number(newHeight),\n        \"maze-player-name\": \"Fluttershy\",\n        \"difficulty\": this.state.difficulty\n      })\n    }).then(response => response.json())\n      .then(response => {\n        this.setState({\n          mazeId: response.maze_id\n          , backgroundUrl: ''\n          , active: true\n          , auto: false\n        }\n          , this.refreshMaze\n        );\n        console.log(\"maze id : \", response.maze_id)\n      }).catch(err => console.log(err))\n  }\n\n  refreshMaze = () => {\n    if (this.state.mazeId === '') {\n      return;\n    }\n\n    fetch(API.maze + this.state.mazeId)\n      .then(response => response.json())\n      .then(response => {\n        this.setState({\n          walls: response.data\n          , width: response.size[0]\n          , height: response.size[1]\n          , pony: response.pony[0]\n          , domokun: response.domokun[0]\n          , exit: response[\"end-point\"][0]\n\n        }, this.findPath)\n      })\n  }\n\n  findPath = () => {\n    const { pony, exit } = this.state;\n\n    this.createPath(pony, undefined, [pony], exit, []);\n\n  }\n\n\n  /**\n   * method attached to autoplay button\n   * set \"auto\" state to true then initiate first movement with \"movePony\"\n   */\n  autoPlay = () => {\n    if (this.state.auto) {\n      this.setState({ auto: false });\n      return;\n    }\n    this.setState({ auto: true }, this.movePony)\n\n  }\n\n  /**\n   * make the pony move one step\n   */\n  movePony = (direction = '') => {\n    const { directions, active, pony } = this.state;\n    // make sure the current game is not finished\n    if (!active) {\n      return;\n    }\n    // if no direction is specified i.e auto play mode then take the first direction from the calculated exit path\n    if (direction === '') {\n      direction = directions[0];\n\n      // check if the monster isn't far away\n      if (this.isDomokunAhead()) {\n        console.log(\"warning ! domokun ahead !\")\n        // The monster can't get you if you don't move, so make an impossible move and wait...\n        const available = this.getAvailableDirections(pony);\n        direction = DIRECTIONS.filter(d => !available.includes(d))[0];\n      }\n\n    }\n    // API call to make the chosen move\n    fetch(API.maze + this.state.mazeId, {\n      method: 'post',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        \"direction\": direction\n      })\n    }).then(response => response.json())\n      .then(response => {\n        // if the game is over, then fetch the background image\n        if (response.state !== \"active\") {\n          this.setState({\n            backgroundUrl: API.root + response[\"hidden-url\"]\n            , active: false\n            , auto: false\n          }\n            , this.refreshMaze);\n        }\n        else {\n          // get the new maze state\n          this.refreshMaze();\n        }\n      })\n  }\n\n\n\n  /**\n   *  method for manual move\n   *  */\n  moveKey = (event) => {\n\n    if (event.key in KEYMPAP) {\n      // pauses autoplay if it was on\n      this.setState({ auto: false }, this.movePony(KEYMPAP[event.key]));\n    }\n  }\n\n\n  /**\n   * Calculates the path to exit :\n   * Explores all the possible paths from the starting point until no move is possible \n   * or the exit is reached\n   */\n  createPath = (start, move, path, exit, directions) => {\n    const { auto, active } = this.state;\n    const availableDirections = this.getAvailableDirections(start);\n\n    // if exit is found then set the current path as state exitPath\n    if (start === exit) {\n\n      if (auto && active) {\n        // if autoplay is on, then update state and trigger next auto move\n        this.setState({\n          exitPath: path\n          , directions: directions\n        }\n          , this.movePony);\n      }\n      else {\n        // otherwise, just update the state\n        this.setState({\n          exitPath: path\n          , directions: directions\n        })\n      }\n    }\n\n    // explore the possible paths\n    for (let i in availableDirections) {\n      if (move === undefined || availableDirections[i] !== OPPOSITE[move]) {\n        const newPosition = this.getNextPosition(start, availableDirections[i]);\n        if (!path.includes(newPosition)) {\n          //if we're not going backwards, then add the new position to the path and proceed\n          const newPath = [];\n          const newDirections = [];\n          newPath.push(...path);\n          newPath.push(newPosition);\n          newDirections.push(...directions);\n          newDirections.push(availableDirections[i]);\n          this.createPath(newPosition, availableDirections[i], newPath, exit, newDirections);\n        }\n      }\n    }\n  }\n\n  /**\n   * gets all available directions from a given index (ie directions \n   * that are not blocked by a wall)\n   */\n  getAvailableDirections = (pony) => {\n\n    const { walls } = this.state;\n    let directions = new Set(DIRECTIONS);\n\n    const coords = this.coordinates(pony);\n\n    if (coords[0] === 0) {\n      directions.delete(\"north\");\n    }\n\n    if (coords[1] === 0) {\n      directions.delete(\"west\");\n    }\n\n    for (let i in walls[pony]) {\n      directions.delete(walls[pony][i])\n\n    }\n    if (this.isSouthWall(coords)) {\n      directions.delete(\"south\");\n    }\n\n    if (this.IsEastWall(coords)) {\n      directions.delete(\"east\");\n    }\n\n\n    return Array.from(directions);\n  }\n\n  isSouthWall = (coords) => {\n    const { walls, height } = this.state;\n    if (coords[0] === height - 1) {\n      return true;\n    }\n    const index = this.coordinatesToIndex([coords[0] + 1, coords[1]]);\n    if (walls[index].includes(\"north\")) {\n      return true;\n    }\n    return false;\n  }\n\n  IsEastWall = (coords) => {\n    const { walls, width } = this.state;\n    if (coords[1] === width - 1) {\n      return true;\n    }\n    const index = this.coordinatesToIndex([coords[0], coords[1] + 1]);\n    if (walls[index].includes(\"west\")) {\n      return true;\n    }\n    return false;\n  }\n\n  coordinates = (index) => {\n    const width = this.state.width;\n    return ([Math.floor(index / width), index % width]);\n\n  }\n\n\n  coordinatesToIndex = (coord) => {\n    const width = this.state.width;\n    return coord[0] * width + coord[1];\n\n  }\n\n\n  isDomokunAhead = () => {\n    const { domokun, exitPath } = this.state;\n    const distance = exitPath.indexOf(domokun);\n    if (distance > -1 && distance < 3) {\n      return true;\n    }\n\n    const coord = this.coordinates(exitPath[1]);\n    const indexes = [];\n    indexes.push(this.coordinatesToIndex([coord[0] - 1, coord[1]]))\n    indexes.push(this.coordinatesToIndex([coord[0] + 1, coord[1]]))\n    indexes.push(this.coordinatesToIndex([coord[0], coord[1] - 1]))\n    indexes.push(this.coordinatesToIndex([coord[0], coord[1] + 1]))\n    if (indexes.includes(domokun)) {\n      return true;\n    }\n\n    return false;\n\n  }\n\n\n  getNextPosition = (index, move) => {\n\n    const coord = this.coordinates(index);\n\n    switch (move) {\n      case \"north\":\n        return this.coordinatesToIndex([coord[0] - 1, coord[1]])\n      case \"south\":\n        return this.coordinatesToIndex([coord[0] + 1, coord[1]])\n      case \"east\":\n        return this.coordinatesToIndex([coord[0], coord[1] + 1])\n      case \"west\":\n        return this.coordinatesToIndex([coord[0], coord[1] - 1])\n\n      default:\n        return coord;\n\n    }\n\n  }\n\n\n  onLevelChange = (event) => {\n    this.setState({ difficulty: Number(event.target.value) })\n\n  }\n\n  onIdChange = (event) => {\n    this.setState({ mazeId: event.target.value })\n\n  }\n  onDimChange = (event) => {\n    if (event.target.id === \"width\") {\n      this.setState({ newWidth: event.target.value })\n    }\n    if (event.target.id === \"height\") {\n      this.setState({ newHeight: event.target.value })\n    }\n\n  }\n\n  render() {\n    const rows = [];\n    let i;\n    let j = 0;\n    let id = 0;\n    const height = this.state.height;\n    const width = this.state.width;\n\n\n    for (i = 0; i < height; i++) {\n      const row = []\n      for (j = 0; j < width; j++) {\n        const element = {};\n        element[\"key\"] = id;\n        element[\"walls\"] = this.state.walls[id];\n        element[\"isPony\"] = id === this.state.pony ? true : false;\n        element[\"isDomokun\"] = id === this.state.domokun ? true : false;\n        element[\"isExit\"] = id === this.state.exit ? true : false;\n        element[\"isExitPath\"] = this.state.exitPath.includes(id) ? true : false;\n        element[\"height\"] = this.state.height;\n        if (i === height - 1) {\n          element[\"walls\"].push(\"south\");\n        }\n        if (j === width - 1) {\n          element[\"walls\"].push(\"east\");\n        }\n\n\n        row.push(element);\n        id++;\n      }\n      rows.push(row);\n    }\n\n\n\n    return (\n      <div>\n        <header className=\"bg-black-50 w-100 ph4-m ph5-l pa2\">\n          <nav className=\"f6 tracked\" >\n            <div className=\"measure pr3\">\n              <label htmlFor=\"difficulty\" className=\"select-label db mb2 pr1 normal\">Difficulty : <strong> {this.state.difficulty}</strong> </label>\n              <input id='difficulty' type=\"range\" name=\"points\" min=\"0\" max=\"10\" defaultValue=\"5\" onChange={this.onLevelChange} />\n            </div>\n            <div className=\"measure pr3\">\n              <label htmlFor=\"width\" className=\"select-label db mb2 pr1\">Width : {this.state.newWidth}</label>\n              <input id='width' type=\"range\" name=\"points\" min=\"15\" max=\"25\" defaultValue=\"15\" step=\"5\" onChange={this.onDimChange} />\n\n            </div>\n            <div className=\"measure pr3\">\n              <label htmlFor=\"height\" className=\"select-label db mb2 pr1\">Height : {this.state.newHeight}</label>\n              <input id='height' type=\"range\" name=\"points\" min=\"15\" max=\"25\" defaultValue=\"15\" step=\"5\" onChange={this.onDimChange} />\n            </div>\n            <div>\n              <button className=\"f6 link dim br2 ph3 pv1 mr2 mb2 mt2 dib white buttons\"\n                onClick={this.createMaze}>Create Maze</button>\n\n              <button className=\"f6 link dim br2 ph3 pv1 mb2 mr2 mt2 dib white buttons\" id=\"autoplay\"\n                onClick={this.autoPlay}> Auto play</button>\n            </div>\n              <label ><span className=\"normal black-60 \">\n             Use <img className=\"key-img\" src={arrow} alt=\"arrows\" height=\"35rem\" /> to move the pony or click autoplay !\n                 </span>\n              </label>\n          </nav>\n        </header>\n        \n        <div className=\"container pa4 flex-auto\" style={{\n          backgroundImage: `url(${this.state.backgroundUrl})`\n          , backgroundRepeat: \"no-repeat\"\n          , backgroundSize: \"contain\"\n        }}>\n          {rows.map((d, i) => <MazeRow key={i} walls={d} />)}\n        </div>\n\n      </div>\n\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'tachyons';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}